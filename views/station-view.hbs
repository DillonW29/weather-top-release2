{{> menu active="dashboard" user=user}}

<section class="section">
  <div class="container">
    <h1 class="title has-text-centered">{{station.name}} - Reports</h1>

    {{#if reports.length}}
      <h2 class="subtitle">Summary</h2>
      <ul>
        <li>Min Temp: {{minTemp}}째C</li>
        <li>Max Temp: {{maxTemp}}째C</li>
        <li>Min Wind: {{minWind}} km/h</li>
        <li>Max Wind: {{maxWind}} km/h</li>
        <li>Min Pressure: {{minPressure}} hPa</li>
        <li>Max Pressure: {{maxPressure}} hPa</li>
      </ul>

      <table class="table is-fullwidth is-striped mt-5">
        <thead>
          <tr>
            <th>Code</th>
            <th>Icon</th>
            <th>Temperature (째C)</th>
            <th>Wind Speed (km/h)</th>
            <th>Wind Direction</th>
            <th>Pressure (hPa)</th>
          </tr>
        </thead>
        <tbody>
          {{#each reports}}
            <tr>
              <td>{{code}}</td>
              <td>
                <img src="https://openweathermap.org/img/wn/{{iconCode}}@2x.png" alt="icon">
              </td>
              <td>{{temperature}}</td>
              <td>{{windSpeed}}</td>
              <td>{{windDirection}}</td>
              <td>{{pressure}}</td>
            </tr>
          {{/each}}
        </tbody>
      </table>
    {{else}}
      <p class="has-text-centered">No reports added yet.</p>
    {{/if}}

    <hr>

    <h2 class="subtitle">Add New Report</h2>

    <form action="/station/{{station.id}}/addreport" method="POST" class="box">
      <div class="field">
        <label class="label">Code</label>
        <div class="control">
          <input class="input" type="text" name="code" placeholder="e.g. 800" required>
        </div>
      </div>

      <div class="field">
        <label class="label">Temperature (째C)</label>
        <div class="control">
          <input class="input" type="number" name="temp" step="0.1" required>
        </div>
      </div>

      <div class="field">
        <label class="label">Wind Speed (km/h)</label>
        <div class="control">
          <input class="input" type="number" name="windSpeed" step="0.1" required>
        </div>
      </div>

      <div class="field">
        <label class="label">Wind Direction</label>
        <div class="control">
          <div class="select">
            <select name="windDirection" required>
              <option value="N">North</option>
              <option value="NE">Northeast</option>
              <option value="E">East</option>
              <option value="SE">Southeast</option>
              <option value="S">South</option>
              <option value="SW">Southwest</option>
              <option value="W">West</option>
              <option value="NW">Northwest</option>
            </select>
          </div>
        </div>
      </div>

      <div class="field">
        <label class="label">Pressure (hPa)</label>
        <div class="control">
          <input class="input" type="number" name="pressure" required>
        </div>
      </div>

      <div class="field is-grouped">
        <div class="control">
          <button class="button is-primary" type="submit">Submit Report</button>
        </div>
      </div>
    </form>
  </div>
</section>
