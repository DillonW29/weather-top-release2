{{> menu}}

<section class="section">
  <div class="container">
    <h1 class="title has-text-centered">{{station.name}} - Reports</h1>

    {{#if reports.length}}
    <table class="table is-fullwidth is-striped is-hoverable">
      <thead>
        <tr>
          <th>Date/Time</th>
          <th>Code</th>
          <th>Temperature (째C)</th>
          <th>Wind Speed (km/h)</th>
          <th>Wind Direction (째)</th>
          <th>Pressure (hPa)</th>
          <th>Icon</th>
          <th>Delete</th>
        </tr>
      </thead>
      <tbody>
        {{#each reports}}
        <tr>
          <td>{{timestamp}}</td>
          <td>{{code}}</td>
          <td>{{temp}}</td>
          <td>{{windSpeed}}</td>
          <td>{{windDirection}}</td>
          <td>{{pressure}}</td>
          <td>
              <img src="{{icon}}" alt="icon" width="50" height="50" />
          </td>
          <td>
            <form action="/station/{{../station.id}}/deletereport/{{id}}" method="POST">
              <button class="button is-danger is-small" type="submit">
                <span class="icon is-small">
                  <i class="fas fa-trash"></i>
                </span>
              </button>
            </form>
          </td>
        </tr>
        {{/each}}
      </tbody>
    </table>
    {{else}}
    <p class="has-text-centered">No reports added yet.</p>
    {{/if}}

    <hr>

    <h2 class="subtitle">Add New Report</h2>
    <form action="/station/{{station.id}}/addreport" method="POST" class="box">
      <div class="field">
        <label class="label">Code</label>
        <div class="control">
          <input class="input" type="text" name="code" placeholder="e.g. 800" required>
        </div>
      </div>

      <div class="field">
        <label class="label">Temperature (째C)</label>
        <div class="control">
          <input class="input" type="number" name="temp" step="0.1" required>
        </div>
      </div>

      <div class="field">
        <label class="label">Wind Speed (km/h)</label>
        <div class="control">
          <input class="input" type="number" name="windSpeed" step="0.1" required>
        </div>
      </div>

      <div class="field">
        <label class="label">Wind Direction (째)</label>
        <div class="control">
          <input class="input" type="number" name="windDirection" required>
        </div>
      </div>

      <div class="field">
        <label class="label">Pressure (hPa)</label>
        <div class="control">
          <input class="input" type="number" name="pressure" required>
        </div>
      </div>

      <div class="field">
        <div class="control">
          <button class="button is-primary">Submit Report</button>
        </div>
      </div>
    </form>
  </div>
</section>
